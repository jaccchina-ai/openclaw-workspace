# T01: 龙头战法涨停股评分系统

## 🚀 项目状态
**✅ 开发完成，等待2月24日实时测试**

## 📖 文档导航
- **[详细使用指南 (USER_GUIDE.md)](USER_GUIDE.md)** - 完整的使用说明、API文档、故障排除
- **[API接口确认 (api_questions.md)](api_questions.md)** - API接口调研记录

## 🎯 核心功能
- **涨停股多维度评分** - 6大维度综合评估涨停股票质量
- **T日/T+1双阶段流程** - 晚上8点评分 → 次日竞价分析 → 开盘前推送
- **实时竞价数据集成** - 严格交易时间逻辑，无实时数据直接报错
- **融资融券风控** - 4大风险因子实时监控
- **精准股票过滤** - ST/北交所/科创板100%准确过滤
- **热点板块智能识别** - 基于4项阈值标准
- **飞书消息推送** - 完整指标透明化展示

## 📊 系统架构
```
┌─────────────────────────────────────────┐
│          T日晚上20:00                    │
│      ┌─────────────┐                    │
│      │ 涨停股获取   │←─ tushare limit_list_d│
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 六维度评分   │←─ 资金流、流动性等    │
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 前5候选股票 │──→ 保存到state/       │
│      └─────────────┘                    │
└─────────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────┐
│        T+1日早上09:25                    │
│      ┌─────────────┐                    │
│      │ 实时竞价数据 │←─ stk_auction实时接口 │
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 竞价评分     │←─ 开盘涨幅、量比等    │
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 风控评估     │←─ margin融资融券数据 │
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 仓位建议     │←─ 风险等级、评分权重   │
│      └─────────────┘                    │
│               ↓                         │
│      ┌─────────────┐                    │
│      │ 飞书推送     │──→ 09:30前到达      │
│      └─────────────┘                    │
└─────────────────────────────────────────┘
```

## 🚦 快速开始

### 1. 准备工作
```bash
# 进入T01目录
cd /root/.openclaw/workspace/tasks/T01

# 安装依赖
pip install -r requirements.txt

# 验证配置
python main.py config
```

### 2. 手动运行T日评分
```bash
# 基于2月13日数据生成候选股票
python quick_t_day_scoring.py
```

### 3. 实时测试 (2月24日)
```bash
# 竞价分析测试
python scheduler.py --run-t1-auction --date 20260224 --t-date 20260213
```

## 📋 核心文件说明

| 文件 | 用途 | 状态 |
|------|------|------|
| `limit_up_strategy_new.py` | 核心策略引擎 | ✅ 100%完成 |
| `scheduler.py` | 定时任务调度器 | ✅ 100%完成 |
| `config.yaml` | 主配置文件 | ✅ 1.1.0 |
| `main.py` | 主程序入口 | ✅ 支持多种模式 |
| `USER_GUIDE.md` | 详细使用指南 | ✅ 本文档 |
| `state/candidates_*.json` | 候选股票数据 | ✅ 已生成 |

## 🔧 技术支持

### 查看日志
```bash
tail -f logs/t01_scheduler.log
```

### 故障排除
```bash
# 测试API连接
python main.py test-api

# 检查交易日数据
python quick_trading_day_test.py
```

### 紧急重启
```bash
# 重启调度器
pkill -f "python.*scheduler.py"
python scheduler.py &
```

## 📅 项目时间线

| 日期 | 里程碑 | 状态 |
|------|--------|------|
| 2026-02-22 | 系统框架搭建 | ✅ 完成 |
| 2026-02-22 | API接口集成测试 | ✅ 完成 |
| 2026-02-22 | T日评分系统开发 | ✅ 完成 |
| 2026-02-22 | T+1竞价系统开发 | ✅ 完成 |
| 2026-02-22 | 风控模块集成 | ✅ 完成 |
| 2026-02-22 | 调度器开发 | ✅ 完成 |
| 2026-02-22 | 消息推送优化 | ✅ 完成 |
| **2026-02-24** | **实时测试** | **🔄 等待中** |

## 📞 联系支持
- **系统管理员**: 小虾米 🦐
- **问题反馈**: 查看详细使用指南中的故障排除章节
- **紧急响应**: 通过飞书联系

---

**最后更新**: 2026-02-23  
**系统版本**: 1.1.0  
**文档状态**: ✅ 完整