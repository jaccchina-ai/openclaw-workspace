# T01策略所需的tushare API接口确认

## 已配置
- ✅ Token: `870008d508d2b0e57ecf2ccc586c23c4ecc37522f5e93890fb3d56ab`
- ✅ 数据源: 东方财富(DC)

## 需要确认的API接口

### 1. 涨停股票数据
**需求**: 获取当日涨停股票列表
**可能的接口**:
- `limit_list()` - 涨停板列表
- `daily()` + 筛选 (pct_chg >= 9.8)
**问题**: 哪个接口能提供完整的涨停股票数据？

### 2. 首次涨停时间
**需求**: 每只涨停股票的首次涨停时间
**可能的接口**:
- `stk_limit()` - 股票每日涨跌停价格
- 分时数据接口
**问题**: 如何获取准确的首次涨停时间？

### 3. 封单数据 (level2数据)
**需求**:
- 分成比 (买一/卖一)
- 封单金额
- 封单金额/流通市值
**可能的接口**:
- `stk_limit()` 可能有相关字段
- Level2数据接口
**问题**: tushare是否有这些level2数据的API？

### 4. 资金流数据
**需求**:
- 主力净额
- 主力净占比  
- 中单净额
**可能的接口**:
- `moneyflow()` - 资金流向
- `moneyflow_hsgt()` - 沪深港通资金流
**问题**: 哪个接口能提供所需的主力/中单资金流数据？

### 5. 竞价数据
**需求**:
- 开盘涨幅
- 竞价量比
- 竞价换手率
- 竞价金额
**可能的接口**:
- `stk_rewards()` - 可能有竞价数据？
- 专门的竞价数据接口
**问题**: tushare是否有竞价数据的API？

### 6. 热点行业板块判断
**需求**: 判断股票是否属于当日热点行业板块
**可能的接口**:
- `ths_index()` - 同花顺行业
- `ths_daily()` - 行业日线
- `concept()` - 概念板块
**问题**: 如何获取东方财富的热点行业板块数据？

### 7. 大盘指数位置
**需求**: 判断大盘指数相对于5日均线的位置
**可能的接口**:
- `index_daily()` - 指数日线
- `index_basic()` - 指数基本信息
**问题**: 使用哪个指数作为大盘代表？(上证指数000001.SH？)

## 需要手动计算的指标

### 1. 换手率/20日均换手率
**实现方式**:
1. 获取最近20个交易日的换手率数据 (`daily()`)
2. 计算20日平均值
3. 计算当日换手率与平均值的比值

### 2. 量比
**实现方式**:
1. 获取当日成交量
2. 获取过去5日平均成交量
3. 计算量比 = 当日成交量 / 5日平均成交量

### 3. 封单金额/流通市值
**实现方式**:
1. 获取封单金额 (需API)
2. 获取流通市值 (`daily_basic()` 或 `fina_indicator()`)
3. 计算比值

## 开发计划

### 第一阶段: 基础数据获取 (1-2天)
1. ✅ 配置tushare token
2. 测试基础API连接
3. 获取涨停股票列表
4. 获取基础日线数据

### 第二阶段: 评分因子实现 (2-3天)
1. 实现可获取的评分因子
2. 对于缺失API的因子，先用占位值
3. 建立评分系统框架

### 第三阶段: 完整流程 (2-3天)
1. 整合T日评分
2. 整合T+1竞价评分
3. 添加风控逻辑
4. 生成最终报告

### 第四阶段: 优化与自动化 (1-2天)
1. 定时任务调度
2. 消息推送
3. 错误处理与日志

## 紧急问题

请老板优先确认以下API接口的可用性:
1. **首次涨停时间** - 哪个接口提供？
2. **封单相关数据** - tushare是否有level2数据？
3. **竞价数据** - 是否有专门的竞价API？

这些数据对策略的准确性至关重要。